<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>test</title>
     <style>
   #canvas-container {
    position: relative;
	}
	#field {
    position: absolute;
    width: 256px;
    height: 240px;
	}
	#canvas {
    position: absolute;
    width: 255px;
    height: 208px;
	}
  </style>
</head>
<body>

   <div id="canvas-container">
    <canvas  height='240' width='256' id='field'></canvas>
	 <canvas  id='canvas'></canvas> 
	
	</div>
	<script src="field.js"> </script>
	<script>
		var maps = new field();

		function draw(path, x, y, size) {
			var example = document.getElementById("field"),
       	 	ctxl = example.getContext('2d'), // Контекст
        	pic = new Image();              // "Создаём" изображение
      		pic.src = path;  // Источник изображения, позаимствовано на хабре
          	pic.onload = function() {    // Событие onLoad, ждём момента пока загрузится изображение
        		ctxl.drawImage(pic, x, y);  // Рисуем изображение от точки с координатами 0, 0
      		}
		}

		var size = 16;

		function view() {
    	    for (var i = 0; i < maps.map.length; i++) 
    	    	for (var j = 0; j < 16; j++) {
    	    		draw('sky.png', j * size,  i * size);
    	    		switch(maps.map[i][j]) {
    	    			case 1:
    	    				draw('ground.png', j * size, i * size);
    	    				break;
    	    			default:
    	    				break;
    	    		}
    	    	}
		}
		view();
		/*
		addEventListener("keydown", function(event) {
			switch (event.keyCode) {
				case 37: //left
					maps.map[mario.x][mario.y] = 0;
					if (mario.y > 0 && maps.map[mario.x][mario.y - 1] == 0)
						mario.y--;
					maps.map[mario.x][mario.y] = 'm';
					break;
				case 39: //right
					maps.map[mario.x][mario.y] = 0;
					if (mario.y < maps.map[mario.x].length && maps.map[mario.x][mario.y + 1] == 0)
						mario.y++;
					maps.map[mario.x][mario.y] = 'm';
					break;
				case 38: //up
					break; 
				case 40: //down
					break;
				default:
					break;
			}
			document.body.innerHTML = "";
			view();
		  });
		  */
		
		/*alert(maps.map[0] + '\n' 
			+ maps.map[1] + '\n' 
			+ maps.map[2] + '\n' 
			+ maps.map[3] + '\n'
			+ maps.map[4] + '\n'
			+ maps.map[5] + '\n'
			+ maps.map[6] + '\n'
			+ maps.map[7] + '\n'
			+ maps.map[8] + '\n'
			+ maps.map[9] + '\n'
			+ maps.map[10] + '\n'
			+ maps.map[11] + '\n'
			+ maps.map[12] + '\n'
			+ maps.map[13] + '\n' 
			+ maps.map[14]);*/
	</script>
	<script type="text/javascript" src = "game.js"></script>
</body>
</html>